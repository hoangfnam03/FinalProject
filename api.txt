üèõÔ∏è C√°c Nh√≥m API (Endpoints)
1. üîë Auth (X√°c th·ª±c)
POST /api/v1/auth/register (Body: RegisterRequest)

POST /api/v1/auth/verify-email (Body: VerifyEmailRequest)

POST /api/v1/auth/login (Body: LoginRequest) -> AuthResponse

2. üìÅ Category (Chuy√™n m·ª•c)
GET /api/v1/categories -> CategoryDto[]

GET /api/v1/categories/{slug} -> CategoryDto

GET /api/v1/categories/{slug}/posts -> PostDtoPaged

POST /api/v1/admin/categories (Body: CategoryCreateUpdateRequest) -> CategoryDto

PUT /api/v1/admin/categories/{id} (Body: CategoryCreateUpdateRequest) -> CategoryDto

3. üîî Notifications (Th√¥ng b√°o)
GET /api/v1/notifications -> NotificationDtoPaged

POST /api/v1/notifications/mark-read (Body: MarkReadRequest)

GET /api/v1/notifications/unread-count -> integer

4. üì∞ Post (B√†i ƒëƒÉng)
GET /api/v1/posts -> PostDtoPaged

POST /api/v1/posts (Body: CreatePostRequest) -> PostDetailDto

GET /api/v1/posts/{id} -> PostDetailDto

PUT /api/v1/posts/{id} (Body: UpdatePostRequest) -> PostDetailDto

POST /api/v1/posts/{id}/vote (Body: VoteRequest)

GET /api/v1/tags/{tag}/posts -> PostDtoPaged

5. üí¨ PostComments (B√¨nh lu·∫≠n b√†i ƒëƒÉng)
GET /api/v1/posts/{postId}/comments -> CommentDtoPaged

POST /api/v1/posts/{postId}/comments (Body: CreateCommentRequest) -> CommentDto

POST /api/v1/posts/{postId}/comments/{commentId}/vote (Body: VoteRequest)

PUT /api/v1/posts/{postId}/comments/{commentId} (Body: UpdateCommentRequest) -> CommentDto

6. üîç Search (T√¨m ki·∫øm)
GET /api/v1/search

7. üìä Stats (Th·ªëng k√™)
GET /api/v1/stats/me -> UserStatsDto

GET /api/v1/users/{id}/stats -> UserStatsDto

GET /api/v1/stats/overview -> OverviewStatsDto

8. üìù Post Revisions (L·ªãch s·ª≠ s·ª≠a b√†i)
GET /api/v1/posts/{id}/revisions (Query: ?page=&pageSize=) -> Paged<RevisionDto>

GET /api/v1/posts/{id}/revisions/{revId} -> RevisionDetailDto

9. ‚úçÔ∏è Comment Revisions (L·ªãch s·ª≠ s·ª≠a b√¨nh lu·∫≠n)
GET /api/v1/posts/{postId}/comments/{commentId}/revisions (Query: ?page=&pageSize=) -> Paged<CommentRevisionDto>

GET /api/v1/posts/{postId}/comments/{commentId}/revisions/{revId} -> CommentRevisionDetailDto

10. üë§ Profile & Me (H·ªì s∆° & Ng∆∞·ªùi d√πng)
GET /api/v1/me -> MeDto

PUT /api/v1/me (Body: MeUpdateRequest) -> MeDto

PUT /api/v1/me/avatar (Multipart: file) -> FileDto

GET /api/v1/users/{id} -> PublicUserDto

GET /api/v1/users/{id}/activities (Query: ?page=&pageSize=) -> Paged<ActivityDto>

11. üñºÔ∏è Post Attachments (ƒê√≠nh k√®m b√†i ƒëƒÉng)
GET /api/v1/posts/{id}/attachments -> AttachmentDto[]

POST /api/v1/posts/{id}/attachments/images (Multipart: file, caption?) -> AttachmentDto

POST /api/v1/posts/{id}/attachments/links (Body: AddLinkRequest) -> AttachmentDto

DELETE /api/v1/posts/{id}/attachments/{attId} -> { success: boolean }

12. üìé Comment Attachments (ƒê√≠nh k√®m b√¨nh lu·∫≠n)
GET /api/v1/posts/{postId}/comments/{commentId}/attachments -> CommentAttachmentDto[]

POST /api/v1/posts/{postId}/comments/{commentId}/attachments/images (Multipart: file, caption?) -> CommentAttachmentDto

POST /api/v1/posts/{postId}/comments/{commentId}/attachments/links (Body: AddCommentLinkRequest) -> CommentAttachmentDto

DELETE /api/v1/posts/{postId}/comments/{commentId}/attachments/{attId} -> { success: boolean }

üì¶ C√°c DTO (C·∫•u tr√∫c d·ªØ li·ªáu)
1. Auth
RegisterRequest

email (string)

password (string)

displayName (string)

VerifyEmailRequest

email (string)

token (string)

LoginRequest

email (string)

password (string)

AuthResponse

accessToken (string)

expiresIn (integer)

refreshToken (string)

2. Category
CategoryDto

id (integer)

name (string)

slug (string)

parentId (integer, nullable)

displayOrder (integer)

isHidden (boolean)

CategoryCreateUpdateRequest

name (string)

slug (string)

parentId (integer, nullable)

displayOrder (integer)

isHidden (boolean)

3. Notifications
NotificationDto

id (integer)

type (string)

isRead (boolean)

createdAt (string, date-time)

actorId (integer, nullable)

actorName (string)

postId (integer, nullable)

postTitle (string)

commentId (integer, nullable)

excerpt (string)

actionUrl (string)

NotificationDtoPaged (ƒê·ªëi t∆∞·ª£ng ph√¢n trang cho NotificationDto)

page (integer)

pageSize (integer)

total (integer)

items (M·∫£ng NotificationDto)

MarkReadRequest

ids (M·∫£ng integer)

4. Post
PostDto

id (integer)

title (string)

authorDisplayName (string)

createdAt (string, date-time)

score (integer)

tags (M·∫£ng string)

previewBody (string)

categoryId (integer, nullable)

categorySlug (string)

categoryName (string)

PostDetailDto

id (integer)

title (string)

body (string)

authorDisplayName (string)

createdAt (string, date-time)

score (integer)

myVote (integer, nullable)

tags (M·∫£ng string)

categoryId (integer, nullable)

categorySlug (string)

categoryName (string)

PostDtoPaged (ƒê·ªëi t∆∞·ª£ng ph√¢n trang cho PostDto)

page (integer)

pageSize (integer)

total (integer)

items (M·∫£ng PostDto)

CreatePostRequest

title (string)

body (string)

tags (M·∫£ng string)

categorySlug (string)

categoryId (integer, nullable)

UpdatePostRequest

title (string)

body (string)

tags (M·∫£ng string)

categorySlug (string)

categoryId (integer, nullable)

removeCategory (boolean, nullable)

VoteRequest (D√πng chung cho Post v√† Comment)

value (integer) - (th∆∞·ªùng l√† 1, 0, -1)

5. PostComments
CommentDto

id (integer)

postId (integer)

body (string)

authorDisplayName (string)

createdAt (string, date-time)

CommentDtoPaged (ƒê·ªëi t∆∞·ª£ng ph√¢n trang cho CommentDto)

page (integer)

pageSize (integer)

total (integer)

items (M·∫£ng CommentDto)

CreateCommentRequest

body (string)

parentCommentId (integer, nullable)

UpdateCommentRequest

body (string)

summary (string?) - (L√Ω do ch·ªânh s·ª≠a)

7. Stats
UserStatsDto

questions (integer)

comments (integer)

votes (integer)

reputation (integer)

OverviewStatsDto

totalQuestions (integer)

totalComments (integer)

totalVotes (integer)

totalUsers (integer)

topTags (M·∫£ng TopTagDto)

TopTagDto

id (integer)

name (string)

slug (string)

count (integer)

8. Post Revisions
RevisionDto

id (long)

postId (long)

editorDisplayName (string)

createdAt (datetime)

summary (string?)

RevisionDetailDto

id (long)

postId (long)

editorDisplayName (string)

createdAt (datetime)

summary (string?)

beforeTitle (string?)

afterTitle (string?)

beforeBody (string?)

afterBody (string?)

9. Comment Revisions
CommentRevisionDto

id (long)

commentId (long)

editorDisplayName (string)

createdAt (datetime)

summary (string?)

CommentRevisionDetailDto

id (long)

commentId (long)

editorDisplayName (string)

createdAt (datetime)

summary (string?)

beforeBody (string?)

afterBody (string?)

10. Profile & Me
MeDto (Th√¥ng tin c·ªßa t√¥i)

id (long)

displayName (string)

bio (string?)

profilePictureUrl (string?)

createdAt (datetime)

isModerator (bool)

isAdministrator (bool)

isTemporarilySuspended (bool)

temporarySuspensionEndAt (datetime?)

temporarySuspensionReason (string?)

trustLevelId (long)

tenantId (Guid?)

userId (long)

MeUpdateRequest

displayName (string?)

bio (string?)

PublicUserDto (Th√¥ng tin c√¥ng khai)

id (long)

displayName (string)

profilePictureUrl (string?)

joinedAt (datetime)

trustLevelId (long)

ActivityDto (Ho·∫°t ƒë·ªông ng∆∞·ªùi d√πng)

id (long)

type (string: "post" | "comment" | "vote_post" | "vote_comment")

createdAt (datetime)

postId (long?)

postTitle (string?)

commentId (long?)

deltaScore (int?)

excerpt (string?)

FileDto (D√πng chung cho Upload)

fileName (string)

url (string)

size (long)

contentType (string)

11. & 12. Attachments
AttachmentDto (D√πng cho Post)

id (long)

type (string: "image" | "link")

createdAt (datetime)

Image: url (string?), fileName (string?), contentType (string?), size (long?), caption (string?)

Link: linkUrl (string?), displayText (string?)

AddLinkRequest (D√πng cho Post)

linkUrl (string)

displayText (string?)

CommentAttachmentDto (D√πng cho Comment)

id (long)

type (string: "image" | "link")

createdAt (datetime)

Image: url (string?), fileName (string?), contentType (string?), size (long?), caption (string?)

Link: linkUrl (string?), displayText (string?)

AddCommentLinkRequest (D√πng cho Comment)

linkUrl (string)

displayText (string?)